var webgl, gui;

$(document).ready(init);

function init(){
    webgl = new Webgl(window.innerWidth, window.innerHeight);
    $('.three').append(webgl.renderer.domElement);

    gui = new dat.GUI();
    gui.add(webgl.triangle.rotation, 'x').min(-Math.PI).max(Math.PI);
    gui.add(webgl.triangle.rotation, 'y').min(-Math.PI).max(Math.PI);
    gui.add(webgl.triangle.rotation, 'z').min(-Math.PI).max(Math.PI);
    gui.close();

    $(window).on('resize', resizeHandler);

    animate();
}

function resizeHandler() {
    webgl.resize(window.innerWidth, window.innerHeight);
}

function animate() {
    requestAnimationFrame(animate);
    webgl.render();
}
var Webgl = (function(){

    function Webgl(width, height){
        // Basic three.js setup
        this.scene = new THREE.Scene();
        
        this.camera = new THREE.PerspectiveCamera(50, width / height, 1, 10000);
        this.camera.position.z = 300;

        this.renderer = new THREE.WebGLRenderer();
        this.renderer.setSize(width, height);
        this.renderer.setClearColor(0xebc130);

        // Directly add objects
        // this.someObject = new THREE.Mesh(new THREE.BoxGeometry(50, 50, 50), new THREE.MeshBasicMaterial({color: 0xFF0000, wireframe: true}));
        // this.someObject.position.set(-60, 0, 0);
        // this.scene.add(this.someObject);

        // Or create container classes for them to simplify your code
        // this.triangle = new Triangle();
        // this.triangle.position.set(0, 0, 0);
        // this.scene.add(this.triangle);

        var geometry = new THREE.Geometry();
        geometry.vertices.push(new THREE.Vector3(-50, 0, 0));
        geometry.vertices.push(new THREE.Vector3(-50, 0, 0));
        geometry.vertices.push(new THREE.Vector3(-50, 0, 0));
        geometry.vertices.push(new THREE.Vector3(-50, 0, 0));
        var line = new THREE.Line(geometry, new THREE.LineBasicMaterial({
            color: 0xFFFFFF,
            linewidth: 5
        }));

        var tl1 = new TimelineLite();          
        var parameters = { x: 50, y: 0, z:0, ease:Quad.easeIn, delay: 0.3, onUpdate: function() {
            line.geometry.verticesNeedUpdate = true;
        }};
        tl1.add(TweenLite.to(line.geometry.vertices[1] , 1, parameters));

        var tl2 = new TimelineLite();          
        var parameters = { x: 0, y: 70, z:0, ease:Quad.easeIn, delay: 1.3, onUpdate: function() {
            line.geometry.verticesNeedUpdate = true;
        }};
        tl2.add(TweenLite.to(line.geometry.vertices[2] , 1, parameters));

        var tl3 = new TimelineLite();          
        var parameters = { x: -50, y: 0, z:0, ease:Quad.easeIn, delay: 2.3, onUpdate: function() {
            line.geometry.verticesNeedUpdate = true;
        }};
        tl3.add(TweenLite.to(line.geometry.vertices[3] , 1, parameters));

        this.scene.add(line);

        this.triangle = new Triangle();
        this.triangle.position.set(0, 0, 0);
        this.scene.add(this.triangle);

    }

    Webgl.prototype.resize = function(width, height) {
        this.camera.aspect = width / height;
        this.camera.updateProjectionMatrix();
        this.renderer.setSize(width, height);
    };

    Webgl.prototype.render = function() {    
        this.renderer.render(this.scene, this.camera);

        // this.someObject.rotation.y += 0.01;
        // this.someObject.rotation.x += 0.01;

        this.triangle.update();
    };

    return Webgl;

})();
var Sphere = (function(){

    function Sphere(){
        THREE.Object3D.call(this);

        var geometry = new THREE.SphereGeometry(35);
        var material = new THREE.MeshBasicMaterial({color: 0x3facc8, wireframe: true});
        this.mesh = new THREE.Mesh(geometry, material);
        this.add(this.mesh);
    }

    Sphere.prototype = new THREE.Object3D;
    Sphere.prototype.constructor = Sphere;

    Sphere.prototype.update = function() {
        this.mesh.rotation.y += 0.01;
    };

    return Sphere;
})();
var Triangle = (function(){

    function Triangle(){
        THREE.Object3D.call(this);

        var geometry = new THREE.TetrahedronGeometry(70, 0);

        //geometry.faces[0].color.setHex(0x888888);

        for ( var i = 0; i < geometry.faces.length; i ++ ) {
            geometry.faces[ i ].color.setHex( Math.random() * 0xffffff );
        }

        var material = new THREE.MeshBasicMaterial({
            color: 0xffffff,
            vertexColors: THREE.FaceColors
        });

        this.mesh = new THREE.Mesh(geometry, material);
        this.mesh.rotation.y = Math.PI/4;
        this.mesh.rotation.x = Math.PI;
        this.add(this.mesh);
    }

    Triangle.prototype = new THREE.Object3D;
    Triangle.prototype.constructor = Triangle;

    Triangle.prototype.update = function() {
        //this.mesh.rotation.x += 0.01;
    };

    return Triangle;
})();
//# sourceMappingURL=app.min.js.map